{% extends 'base.html' %} {% load static %} {% block content %}
<!-- start banner Area -->
<section class="relative about-banner">
  <div class="overlay overlay-bg"></div>
  <div class="container">
    <div class="row d-flex align-items-center justify-content-center">
      <div class="about-content col-lg-12">
        <h1 class="text-white">Contact Us</h1>
        <p class="text-white link-nav">
          <a href="index.html">Home </a>
          <span class="lnr lnr-arrow-right"></span>
          <a href="contact.html"> Contact Us</a>
        </p>
      </div>
    </div>
  </div>
</section>
<!-- End banner Area -->

<!-- Start contact-page Area -->
<section class="contact-page-area section-gap">
  <div class="container">
    <div class="row">
      <div
        class="map-wrap"
        style="width: 100%; height: 445px"
        id="map"></div>
      <div class="col-lg-4 d-flex flex-column address-wrap">
        <div class="single-contact-address d-flex flex-row">
          <div class="icon">
            <span class="lnr lnr-home"></span>
          </div>
          <div class="contact-details">
            <h5>Binghamton, New York</h5>
            <p>4343 Hinkle Deegan Lake Road</p>
          </div>
        </div>
        <div class="single-contact-address d-flex flex-row">
          <div class="icon">
            <span class="lnr lnr-phone-handset"></span>
          </div>
          <div class="contact-details">
            <h5>00 (958) 9865 562</h5>
            <p>Mon to Fri 9am to 6 pm</p>
          </div>
        </div>
        <div class="single-contact-address d-flex flex-row">
          <div class="icon">
            <span class="lnr lnr-envelope"></span>
          </div>
          <div class="contact-details">
            <h5>support@colorlib.com</h5>
            <p>Send us your query anytime!</p>
          </div>
        </div>
      </div>
      <div class="col-lg-8">
        <form
          class="form-area contact-form text-right"
          id="contactForm"
          action="{% url 'website:contact' %}"
          method="post">
          
          <div class="row">
            {% csrf_token %}
            <div class="col-lg-6 form-group">
              <input
                name="name"
                placeholder="Enter your name"
                onfocus="this.placeholder = ''"
                onblur="this.placeholder = 'Enter your name'"
                class="common-input mb-20 form-control"
                required=""
                type="text" />

              <input
                name="email"
                placeholder="Enter email address"
                pattern="[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Za-z]{1,63}$"
                onfocus="this.placeholder = ''"
                onblur="this.placeholder = 'Enter email address'"
                class="common-input mb-20 form-control"
                required=""
                type="email" />

              <input
                name="subject"
                placeholder="Enter subject"
                onfocus="this.placeholder = ''"
                onblur="this.placeholder = 'Enter subject'"
                class="common-input mb-20 form-control"
                required=""
                type="text" />
            </div>
            <div class="col-lg-6 form-group">
              <textarea
                class="common-textarea form-control"
                name="message"
                placeholder="Enter Messege"
                onfocus="this.placeholder = ''"
                onblur="this.placeholder = 'Enter Messege'"
                required=""></textarea>
            </div>
            <div class="col-lg-12">
              {{ form.captcha }}
              
              <div
                class="alert-msg"
                style="text-align: left"></div>
              <button
                class="genric-btn primary"
                style="float: right">
                Send Message
              </button>
            </div>
          </div>
        </form>
      </div>
    
      {% if messages %}
      <div class="container messages-container pt-3">
        {% for message in messages %}
          <div class="alert alert-{{ message.tags }} fade-in" style="
            font-size: 1.2rem;
            color: #fff;
            background-color: {% if message.tags == 'success' %}#27ae60{% else %}#e74c3c{% endif %};
            font-family: 'Vazir', 'IRANSans', sans-serif;
            padding: 20px 25px;
            border-radius: 10px;
            box-shadow: 0 6px 12px rgba(0,0,0,0.1);
            margin: 20px 0;
            text-align: center;
            border-right: 6px solid {% if message.tags == 'success' %}#219653{% else %}#c0392b{% endif %};
            position: relative;
            overflow: hidden;">
            <i class="fa {% if message.tags == 'success' %}fa-check-circle{% else %}fa-exclamation-circle{% endif %}" style="margin-left: 10px;"></i>
            {{ message }}
            
            <!-- نوار پیشرفت در پایین پیام -->
            <div class="progress-bar" style="
              position: absolute;
              bottom: 0;
              left: 0;
              height: 4px;
              width: 100%;
              background-color: rgba(255, 255, 255, 0.3);
              ">
              <div class="progress" style="
                height: 100%;
                width: 100%;
                background-color: rgba(255, 255, 255, 0.7);
                animation: slideOut 5s linear forwards;
              "></div>
            </div>
          </div>
        {% endfor %}
      </div>

      <style>
        @keyframes slideOut {
          from { width: 100%; }
          to { width: 0%; }
        }
        
        .fade-in {
          opacity: 0;
          animation: fadeIn 0.5s ease forwards;
        }
        
        @keyframes fadeIn {
          from { opacity: 0; transform: translateY(-10px); }
          to { opacity: 1; transform: translateY(0); }
        }
      </style>

      <script>
        // حذف پیام‌ها بعد از 5 ثانیه
        document.addEventListener('DOMContentLoaded', function() {
          setTimeout(function() {
            const messages = document.querySelectorAll('.alert');
            messages.forEach(function(message) {
              message.style.opacity = '0';
              message.style.transform = 'translateY(-10px)';
              message.style.transition = 'all 0.5s ease';
              
              setTimeout(function() {
                message.remove();
              }, 500);
            });
          }, 5000);
        });
      </script>
    {% endif %}

      <style>
        @keyframes blink {
          0% { opacity: 1; }
          50% { opacity: 0; }
          100% { opacity: 1; }
        }
      </style>
    </div>
  </div>
</section>
<!-- End contact-page Area -->
{% endblock %}
